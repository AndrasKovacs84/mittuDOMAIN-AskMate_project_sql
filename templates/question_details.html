<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <title>{{ question.title }}</title>
</head>
<body>
    <div class="question_details">
        <h2>{{ question.title }}</h2>
        <p> {{ question.message }}</p>
        <button name="answer_form" onclick="location.href='/question/{{ question.id }}/new_answer'" type="button">Answer this question</button>
        <button name="index_button" onclick="location.href='/question/{{ question.id }}/new-comment'" type="button">Add comment to question</button>
        <button onclick=location.href='/question/{{ question_id }}/edit' type="button">Edit question</button>
    </div>
    {% if question_comments.result_set|length %}
    <div class="question_comments">
        <h2>Comments to question</h2>
        <table>
            <thead>
                {% for header in question_comments.header %}
                    <th>{{ header }}</th>
                {% endfor %}
            </thead>
            {% for comment in question_comments.result_set %}
            <tr>
                {% for item in comment %}
                <td>{{ item }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endif %}
    <div class="answers">
        <h2>Answers</h2>
        <table>
            {% if answers.result_set|length %}
                {% for dict in answers.result_set %}
                <thead>
                    {% for column_name in answers.header %}
                        <th>{{ column_name }}</th>
                    {% endfor %}
                </thead>
                <tr>
                    {% for column in dict.answer %}
                        <td>{{ column }}</td>
                    {% endfor %}
                    <td><button name="index_button" onclick="location.href='/answer/{{ dict.answer[0] }}/new-comment'" type="button">Add comment</button></td>   
                </tr>
                <tr>
                    {% if dict.comments|length %}
                        {% for comment in dict.comments %}
                            <tr>
                            {% for column in comment %}        
                                <td>{{ column }}</td>
                            {% endfor %}
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tr>
                {% endfor %}
            {% else %}
                <h3 style="color: black">Be the first on the InterWeb who has the answer for this Question!</h3>
            {% endif %}
        </table>
    </div>
    <br>
    <br>
    <button name="index" onclick="location.href='/'" type="button">Back to Index</button>
</body>
</html>
